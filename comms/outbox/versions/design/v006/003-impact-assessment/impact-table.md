# Impact Assessment Table - v006

| # | Area | Description | Classification | Resulting Work Item | Caused By |
|---|------|-------------|----------------|---------------------|-----------|
| 1 | AGENTS.md | Rust module listing in Project Structure section shows only `rust/stoat_ferret_core/` — no mention of new submodules (expressions, graph validation, composition, drawtext, speed). The "Rust Core" Cargo commands section is adequate, but the architecture context is incomplete once v006 modules exist. | small | Add new Rust module names to AGENTS.md Project Structure section after first Rust module is implemented | BL-037 |
| 2 | 02-architecture.md | Rust Core Module Structure section (line ~377) lists `timeline`, `filters`, `commands`, `sanitize`, `layout`, `render`, `hardware`. v006 adds `expressions`, `graph_validation`, `composition`, `drawtext`, `speed` modules. Code examples show monolithic `build_text_overlay_filter` — v006 replaces this with expression engine + drawtext builder pattern. Effects Service description (line ~350) is skeletal placeholder — v006 implements the real service. Data model section lacks effect storage on clips (BL-043 extends clip model). | substantial | Create feature to update 02-architecture.md with new Rust modules, revised code examples, Effects Service implementation details, and extended clip data model | BL-037, BL-039, BL-040, BL-042, BL-043 |
| 3 | 05-api-specification.md | Effects section (lines ~654-938) already contains detailed endpoint specs for GET /effects, POST /effects, GET /effects/{type}/schema, and clip effect CRUD. These are aspirational specs written before implementation. v006 implements the actual endpoints — implementation may diverge from spec on response shapes, parameter names, or validation behavior. Spec should be reconciled post-implementation. | small | Reconcile 05-api-specification.md Effects section with actual implementation after BL-042 and BL-043 are complete | BL-042, BL-043 |
| 4 | Type stubs | `stubs/stoat_ferret_core/_core.pyi` must be regenerated after each Rust module adds PyO3 bindings (BL-037 expressions, BL-039 composition, BL-040 drawtext, BL-041 speed). AGENTS.md already documents this workflow. This is a per-feature task, not a single update. | small | Regenerate type stubs after each Rust feature that adds PyO3 bindings (4 features: BL-037, BL-039, BL-040, BL-041) | BL-037, BL-039, BL-040, BL-041 |
| 5 | docs/auto-dev/PLAN.md | v006 section (line ~41) shows status "Planned" — must be updated to "In Progress" when execution starts and "Complete" when done. Investigation dependency BL-043 (clip effect model design, line ~35) is marked "pending" — must be resolved during v006 design or execution. | small | Update PLAN.md v006 status and close BL-043 investigation dependency during version execution | BL-043 |
| 6 | C4 documentation | Retrospective noted "C4 docs not updated for v005" and v006 adds major Rust architectural components (expression engine, graph validation, composition system). C4 diagrams will be increasingly stale. However, regenerating C4 docs is a substantial standalone effort spanning all layers. | cross-version | Add C4 documentation regeneration to backlog for post-v006 (or v007) — too large to include in v006 scope | BL-037, BL-038, BL-039, BL-040, BL-041, BL-042, BL-043 |
| 7 | 01-roadmap.md | Phase 2 milestones M2.1-2.3 (lines ~185-205) describe the effects engine work at a high level. The roadmap is intentionally aspirational and does not need line-by-line updates as features are implemented. However, after v006 completes, the milestone checkboxes should be checked off during version close. | small | Check off M2.1-2.3 milestone items in 01-roadmap.md during v006 version close | BL-037, BL-038, BL-039, BL-040, BL-041, BL-042, BL-043 |

# Pre-Execution Validation Checklist - v008

## Checklist

- [x] **Content completeness** — Drafts match persisted documents.
  - Status: PASS
  - Notes: 10/12 document pairs are identical (trailing newline only). VERSION_DESIGN.md was restructured by the `design_version` tool into its standard template — "Key Design Decisions" section is absent from the persisted version but all decisions are preserved in individual THEME_DESIGN.md and feature-level documents. THEME_INDEX.md was enriched with execution instructions and paths. No truncation detected in any document. STARTER_PROMPT.md is persisted-only (expected, generated by persist tool).

- [x] **Reference resolution** — Design artifact store references resolve.
  - Status: PASS
  - Notes: 6 references to `comms/outbox/versions/design/v008/` found across inbox documents. All reference directories exist on disk: `004-research/` (4 files) and `006-critical-thinking/` (4 files). Design artifact store contains 23 files across 6 numbered task folders (001-environment through 006-critical-thinking). All references resolve.

- [x] **Notes propagation** — Backlog notes in feature requirements.
  - Status: PASS
  - Notes: All key notes propagated: BL-055 notes about v007 halt and false-positive completion status appear in flaky-e2e-fix requirements. BL-056 notes about idempotency gap and handler accumulation appear in logging-startup requirements. BL-058 notes about duplicate test helpers (3 files, inconsistent DDL) and schema evolution deferral (LRN-029) appear in database-startup requirements. BL-062 notes about `@lru_cache` safety and heartbeat default matching appear in orphaned-settings requirements.

- [x] **validate_version_design passes** — 0 missing documents.
  - Status: PASS
  - Result: `{"valid": true, "themes_validated": 2, "features_validated": 4, "documents": {"found": 14, "missing": []}, "consistency_errors": []}`

- [x] **Backlog alignment** — Features reference correct BL-XXX items.
  - Status: PASS
  - Notes: All 4 mandatory backlog items mapped to features: BL-055 (P0) -> 02-ci-stability/001-flaky-e2e-fix, BL-056 (P1) -> 01-application-startup-wiring/002-logging-startup, BL-058 (P0) -> 01-application-startup-wiring/001-database-startup, BL-062 (P2) -> 01-application-startup-wiring/003-orphaned-settings. All backlog items are status=open. Acceptance criteria match with one noted design refinement: BL-058 AC#2 mentions Alembic but the design deliberately chose CREATE TABLE IF NOT EXISTS (documented constraint). Feature requirements are supersets of backlog ACs (additional NFRs and refined FRs). No items deferred or descoped per manifest.json `deferred_items: []`.

- [x] **File paths exist** — Implementation plans reference real files.
  - Status: PASS
  - Notes: 11 files marked for modification all exist on disk. 3 new test files (test_database_startup.py, test_logging_startup.py, test_orphaned_settings.py) to be created in `tests/` directory which exists. Shared modification points identified and mitigated: `app.py` modified by 3 features, `__main__.py` by 2 features — sequential execution within Theme 01 prevents conflicts.

- [x] **Dependency accuracy** — No circular or incorrect dependencies.
  - Status: PASS
  - Notes: Theme 01 features execute sequentially: 001-database-startup -> 002-logging-startup -> 003-orphaned-settings (shared app.py lifespan modification point). Theme 02 is fully independent of Theme 01 (touches only frontend test infrastructure). No circular dependencies. Dependency chain is linear and well-documented in both THEME_DESIGN.md files and the refined logical design.

- [x] **Mitigation strategy** — Workarounds documented if needed.
  - Status: N/A
  - Notes: v008 addresses wiring gaps and a flaky test — none of these bugs affect the execution process itself. The flaky E2E test (BL-055, Theme 02) is isolated from Theme 01's startup wiring work. If the E2E flake triggers during Theme 01 CI runs, it would be a known issue being fixed in Theme 02, but Theme 01 does not touch E2E tests so this is unlikely. No special workarounds required.

- [x] **Design docs committed** — All inbox documents committed.
  - Status: PASS
  - Notes: Git status shows only 1 modified file (`comms/state/explorations/...json` — MCP exploration state). No inbox/execution documents are uncommitted. All 14 inbox documents (VERSION_DESIGN.md, STARTER_PROMPT.md, THEME_INDEX.md, 2 THEME_DESIGN.md, 4 requirements.md, 4 implementation-plan.md) are committed and tracked. Branch is on main, 0 ahead / 0 behind.

- [x] **Handover document** — STARTER_PROMPT.md complete.
  - Status: PASS
  - Notes: STARTER_PROMPT.md exists (46 lines), includes: AGENTS.md reference, execution process (read THEME_INDEX, iterate themes/features, create output docs), status tracking instructions (STATUS.md), output document specifications (completion-report.md, quality-gaps.md, handoff-to-next.md), and quality gates (ruff check, ruff format, mypy, pytest). Complete and well-structured.

- [x] **Impact analysis** — Dependencies, breaking changes, test impact.
  - Status: PASS
  - Notes: VERSION_DESIGN.md documents 3 constraints and 3 assumptions. Both THEME_DESIGN.md files include risks tables (3 risks for Theme 01, 1 risk for Theme 02) with mitigations. Impact-table.md contains 16 impact items across 4 categories: docs/setup (2), C4 docs (4), caller-impact (8), test-compat (2). Breaking changes: none — all changes are additive wiring of existing infrastructure. Test impact: logging output in tests and test mode bypass documented.

- [x] **Naming convention** — Theme/feature folders match patterns, no double-numbering.
  - Status: PASS
  - Notes: Theme folders: `01-application-startup-wiring` and `02-ci-stability` both match `^\d{2}-[a-z][a-z0-9-]*[a-z0-9]$`. Feature folders: `001-database-startup`, `002-logging-startup`, `003-orphaned-settings`, `001-flaky-e2e-fix` all match `^\d{3}-[a-z][a-z0-9-]*[a-z0-9]$`. THEME_INDEX feature lines all match `^- \d{3}-[a-z][a-z0-9-]*[a-z0-9]: .+$`. No double-numbered prefixes (`\d{2,3}-\d{2,3}-`) detected.

- [x] **Cross-reference consistency** — THEME_INDEX matches folder structure exactly.
  - Status: PASS
  - Notes: THEME_INDEX lists 2 themes (01-application-startup-wiring, 02-ci-stability) — both have matching folders on disk. THEME_INDEX lists 4 features (001-database-startup, 002-logging-startup, 003-orphaned-settings under Theme 01; 001-flaky-e2e-fix under Theme 02) — all have matching folders on disk. Every folder on disk appears in the index. Names match exactly (case-sensitive). No orphan folders or missing index entries.

## Summary

**Overall Status**: PASS
**Blocking Issues**: None
**Warnings**: None
**Ready for Execution**: Yes
